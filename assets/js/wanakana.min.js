var wanakana,__indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};wanakana=wanakana||{},wanakana.version="1.3.5","function"==typeof define&&define.amd&&define("wanakana",[],function(){return wanakana}),wanakana.LOWERCASE_START=97,wanakana.LOWERCASE_END=122,wanakana.UPPERCASE_START=65,wanakana.UPPERCASE_END=90,wanakana.HIRAGANA_START=12353,wanakana.HIRAGANA_END=12438,wanakana.KATAKANA_START=12449,wanakana.KATAKANA_END=12538,wanakana.LOWERCASE_FULLWIDTH_START=65345,wanakana.LOWERCASE_FULLWIDTH_END=65370,wanakana.UPPERCASE_FULLWIDTH_START=65313,wanakana.UPPERCASE_FULLWIDTH_END=65338,wanakana.defaultOptions={useObseleteKana:!1,IMEMode:!1},wanakana.bind=function(a){return a.addEventListener("input",wanakana._onInput)},wanakana.unbind=function(a){return a.removeEventListener("input",wanakana._onInput)},wanakana._onInput=function(a){var b,c,d,e,f,g;if(b=a.target,f=b.selectionStart,g=b.value.length,d=wanakana._convertFullwidthCharsToASCII(b.value),c=wanakana.toKana(d,{IMEMode:!0}),d!==c){if(b.value=c,"number"==typeof b.selectionStart)return b.selectionStart=b.selectionEnd=b.value.length;if("undefined"!=typeof b.createTextRange)return b.focus(),e=b.createTextRange(),e.collapse(!1),e.select()}},wanakana._extend=function(a,b){var c;if(null==a)return b;for(c in b)null==a[c]&&null!=b[c]&&(a[c]=b[c]);return a},wanakana._allTrue=function(a,b){var c,d,e;for(d=0,e=a.length;e>d;d++)if(c=a[d],b(c)===!1)return!1;return!0},wanakana._isCharInRange=function(a,b,c){var d;return d=a.charCodeAt(0),d>=b&&c>=d},wanakana._isCharVowel=function(a,b){var c;return null==b&&(b=!0),c=b?/[aeiouy]/:/[aeiou]/,-1!==a.toLowerCase().charAt(0).search(c)},wanakana._isCharConsonant=function(a,b){var c;return null==b&&(b=!0),c=b?/[bcdfghjklmnpqrstvwxyz]/:/[bcdfghjklmnpqrstvwxz]/,-1!==a.toLowerCase().charAt(0).search(c)},wanakana._isCharKatakana=function(a){return wanakana._isCharInRange(a,wanakana.KATAKANA_START,wanakana.KATAKANA_END)},wanakana._isCharHiragana=function(a){return wanakana._isCharInRange(a,wanakana.HIRAGANA_START,wanakana.HIRAGANA_END)},wanakana._isCharKana=function(a){return wanakana._isCharHiragana(a)||wanakana._isCharKatakana(a)},wanakana._isCharNotKana=function(a){return!wanakana._isCharHiragana(a)&&!wanakana._isCharKatakana(a)},wanakana._convertFullwidthCharsToASCII=function(a){var b,c,d,e,f,g;for(c=a.split(""),e=f=0,g=c.length;g>f;e=++f)b=c[e],d=b.charCodeAt(0),wanakana._isCharInRange(b,wanakana.LOWERCASE_FULLWIDTH_START,wanakana.LOWERCASE_FULLWIDTH_END)&&(c[e]=String.fromCharCode(d-wanakana.LOWERCASE_FULLWIDTH_START+wanakana.LOWERCASE_START)),wanakana._isCharInRange(b,wanakana.UPPERCASE_FULLWIDTH_START,wanakana.UPPERCASE_FULLWIDTH_END)&&c[e](String.fromCharCode(d-wanakana.UPPERCASE_FULLWIDTH_START+wanakana.UPPERCASE_START));return c.join("")},wanakana._katakanaToHiragana=function(a){var b,c,d,e,f,g,h;for(c=[],h=a.split(""),f=0,g=h.length;g>f;f++)e=h[f],wanakana._isCharKatakana(e)?(b=e.charCodeAt(0),b+=wanakana.HIRAGANA_START-wanakana.KATAKANA_START,d=String.fromCharCode(b),c.push(d)):c.push(e);return c.join("")},wanakana._hiraganaToKatakana=function(a){var b,c,d,e,f,g,h;for(d=[],h=a.split(""),f=0,g=h.length;g>f;f++)c=h[f],wanakana._isCharHiragana(c)?(b=c.charCodeAt(0),b+=wanakana.KATAKANA_START-wanakana.HIRAGANA_START,e=String.fromCharCode(b),d.push(e)):d.push(c);return d.join("")},wanakana._hiraganaToRomaji=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(b=wanakana._extend(b,wanakana.defaultOptions),g=a.length,k=[],e=0,d=0,h=2,f=function(){return a.substr(e,d)},j=function(){return d=Math.min(h,g-e)};g>e;){for(j();d>0;){if(c=f(),wanakana.isKatakana(c)&&(c=wanakana._katakanaToHiragana(c)),"ã£"===c.charAt(0)&&1===d&&g-1>e){i=!0,l="";break}if(l=wanakana.J_to_R[c],null!=l&&i&&(l=l.charAt(0).concat(l),i=!1),null!=l)break;d--}null==l&&(l=c),k.push(l),e+=d||1}return k.join("")},wanakana._romajiToHiragana=function(a,b){return wanakana._romajiToKana(a,b,!0)},wanakana._romajiToKana=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(null==c&&(c=!1),b=wanakana._extend(b,wanakana.defaultOptions),l=a.length,j=[],g=0,m=3,h=function(){return a.substr(g,f)},i=function(a){return wanakana._isCharInRange(a,wanakana.UPPERCASE_START,wanakana.UPPERCASE_END)};l>g;){for(f=Math.min(m,l-g);f>0;){if(d=h(),e=d.toLowerCase(),__indexOf.call(wanakana.FOUR_CHARACTER_EDGE_CASES,e)>=0&&l-g>=4)f++,d=h(),e=d.toLowerCase();else{if("n"===e.charAt(0)){if(b.IMEMode&&"'"===e.charAt(1)&&2===f){k="ã‚“";break}wanakana._isCharConsonant(e.charAt(1),!1)&&wanakana._isCharVowel(e.charAt(2))&&(f=1,d=h(),e=d.toLowerCase())}"n"!==e.charAt(0)&&wanakana._isCharConsonant(e.charAt(0))&&d.charAt(0)===d.charAt(1)&&(f=1,e=d=wanakana._isCharInRange(d.charAt(0),wanakana.UPPERCASE_START,wanakana.UPPERCASE_END)?"ãƒƒ":"ã£")}if(k=wanakana.R_to_J[e],null!=k)break;4===f?f-=2:f--}null==k&&(d=wanakana._convertPunctuation(d),k=d),(null!=b?b.useObseleteKana:void 0)&&("wi"===e&&(k="ã‚"),"we"===e&&(k="ã‚‘")),b.IMEMode&&"n"===e.charAt(0)&&("y"===a.charAt(g+1).toLowerCase()&&wanakana._isCharVowel(a.charAt(g+2))===!1||g===l-1||wanakana.isKana(a.charAt(g+1)))&&(k=d.charAt(0)),c||i(d.charAt(0))&&(k=wanakana._hiraganaToKatakana(k)),j.push(k),g+=f||1}return j.join("")},wanakana._convertPunctuation=function(a){return"ã€€"===a?" ":"-"===a?"ãƒ¼":a},wanakana.isHiragana=function(a){var b;return b=a.split(""),wanakana._allTrue(b,wanakana._isCharHiragana)},wanakana.isKatakana=function(a){var b;return b=a.split(""),wanakana._allTrue(b,wanakana._isCharKatakana)},wanakana.isKana=function(a){var b;return b=a.split(""),wanakana._allTrue(b,function(a){return wanakana.isHiragana(a)||wanakana.isKatakana(a)})},wanakana.isRomaji=function(a){var b;return b=a.split(""),wanakana._allTrue(b,function(a){return!wanakana.isHiragana(a)&&!wanakana.isKatakana(a)})},wanakana.toHiragana=function(a,b){return wanakana.isRomaji(a)?a=wanakana._romajiToHiragana(a,b):wanakana.isKatakana(a)?a=wanakana._katakanaToHiragana(a,b):a},wanakana.toKatakana=function(a,b){return wanakana.isHiragana(a)?a=wanakana._hiraganaToKatakana(a,b):wanakana.isRomaji(a)?(a=wanakana._romajiToHiragana(a,b),a=wanakana._hiraganaToKatakana(a,b)):a},wanakana.toKana=function(a,b){return a=wanakana._romajiToKana(a,b)},wanakana.toRomaji=function(a){return a=wanakana._hiraganaToRomaji(a)},wanakana.R_to_J={a:"ã‚",i:"ã„",u:"ã†",e:"ãˆ",o:"ãŠ",yi:"ã„",wu:"ã†",whu:"ã†",xa:"ã",xi:"ãƒ",xu:"ã…",xe:"ã‡",xo:"ã‰",xyi:"ãƒ",xye:"ã‡",ye:"ã„ã‡",wha:"ã†ã",whi:"ã†ãƒ",whe:"ã†ã‡",who:"ã†ã‰",wi:"ã†ãƒ",we:"ã†ã‡",va:"ã‚”ã",vi:"ã‚”ãƒ",vu:"ã‚”",ve:"ã‚”ã‡",vo:"ã‚”ã‰",vya:"ã‚”ã‚ƒ",vyi:"ã‚”ãƒ",vyu:"ã‚”ã‚…",vye:"ã‚”ã‡",vyo:"ã‚”ã‚‡",ka:"ã‹",ki:"ã",ku:"ã",ke:"ã‘",ko:"ã“",lka:"ãƒµ",lke:"ãƒ¶",xka:"ãƒµ",xke:"ãƒ¶",kya:"ãã‚ƒ",kyi:"ããƒ",kyu:"ãã‚…",kye:"ãã‡",kyo:"ãã‚‡",ca:"ã‹",ci:"ã",cu:"ã",ce:"ã‘",co:"ã“",lca:"ãƒµ",lce:"ãƒ¶",xca:"ãƒµ",xce:"ãƒ¶",qya:"ãã‚ƒ",qyu:"ãã‚…",qyo:"ãã‚‡",qwa:"ãã",qwi:"ããƒ",qwu:"ãã…",qwe:"ãã‡",qwo:"ãã‰",qa:"ãã",qi:"ããƒ",qe:"ãã‡",qo:"ãã‰",kwa:"ãã",qyi:"ããƒ",qye:"ãã‡",ga:"ãŒ",gi:"ãŽ",gu:"ã",ge:"ã’",go:"ã”",gya:"ãŽã‚ƒ",gyi:"ãŽãƒ",gyu:"ãŽã‚…",gye:"ãŽã‡",gyo:"ãŽã‚‡",gwa:"ãã",gwi:"ããƒ",gwu:"ãã…",gwe:"ãã‡",gwo:"ãã‰",sa:"ã•",si:"ã—",shi:"ã—",su:"ã™",se:"ã›",so:"ã",za:"ã–",zi:"ã˜",zu:"ãš",ze:"ãœ",zo:"ãž",ji:"ã˜",sya:"ã—ã‚ƒ",syi:"ã—ãƒ",syu:"ã—ã‚…",sye:"ã—ã‡",syo:"ã—ã‚‡",sha:"ã—ã‚ƒ",shu:"ã—ã‚…",she:"ã—ã‡",sho:"ã—ã‚‡",shya:"ã—ã‚ƒ",shyu:"ã—ã‚…",shye:"ã—ã‡",shyo:"ã—ã‚‡",swa:"ã™ã",swi:"ã™ãƒ",swu:"ã™ã…",swe:"ã™ã‡",swo:"ã™ã‰",zya:"ã˜ã‚ƒ",zyi:"ã˜ãƒ",zyu:"ã˜ã‚…",zye:"ã˜ã‡",zyo:"ã˜ã‚‡",ja:"ã˜ã‚ƒ",ju:"ã˜ã‚…",je:"ã˜ã‡",jo:"ã˜ã‚‡",jya:"ã˜ã‚ƒ",jyi:"ã˜ãƒ",jyu:"ã˜ã‚…",jye:"ã˜ã‡",jyo:"ã˜ã‚‡",ta:"ãŸ",ti:"ã¡",tu:"ã¤",te:"ã¦",to:"ã¨",chi:"ã¡",tsu:"ã¤",ltu:"ã£",xtu:"ã£",tya:"ã¡ã‚ƒ",tyi:"ã¡ãƒ",tyu:"ã¡ã‚…",tye:"ã¡ã‡",tyo:"ã¡ã‚‡",cha:"ã¡ã‚ƒ",chu:"ã¡ã‚…",che:"ã¡ã‡",cho:"ã¡ã‚‡",cya:"ã¡ã‚ƒ",cyi:"ã¡ãƒ",cyu:"ã¡ã‚…",cye:"ã¡ã‡",cyo:"ã¡ã‚‡",chya:"ã¡ã‚ƒ",chyu:"ã¡ã‚…",chye:"ã¡ã‡",chyo:"ã¡ã‚‡",tsa:"ã¤ã",tsi:"ã¤ãƒ",tse:"ã¤ã‡",tso:"ã¤ã‰",tha:"ã¦ã‚ƒ",thi:"ã¦ãƒ",thu:"ã¦ã‚…",the:"ã¦ã‡",tho:"ã¦ã‚‡",twa:"ã¨ã",twi:"ã¨ãƒ",twu:"ã¨ã…",twe:"ã¨ã‡",two:"ã¨ã‰",da:"ã ",di:"ã¢",du:"ã¥",de:"ã§","do":"ã©",dya:"ã¢ã‚ƒ",dyi:"ã¢ãƒ",dyu:"ã¢ã‚…",dye:"ã¢ã‡",dyo:"ã¢ã‚‡",dha:"ã§ã‚ƒ",dhi:"ã§ãƒ",dhu:"ã§ã‚…",dhe:"ã§ã‡",dho:"ã§ã‚‡",dwa:"ã©ã",dwi:"ã©ãƒ",dwu:"ã©ã…",dwe:"ã©ã‡",dwo:"ã©ã‰",na:"ãª",ni:"ã«",nu:"ã¬",ne:"ã­",no:"ã®",nya:"ã«ã‚ƒ",nyi:"ã«ãƒ",nyu:"ã«ã‚…",nye:"ã«ã‡",nyo:"ã«ã‚‡",ha:"ã¯",hi:"ã²",hu:"ãµ",he:"ã¸",ho:"ã»",fu:"ãµ",hya:"ã²ã‚ƒ",hyi:"ã²ãƒ",hyu:"ã²ã‚…",hye:"ã²ã‡",hyo:"ã²ã‚‡",fya:"ãµã‚ƒ",fyu:"ãµã‚…",fyo:"ãµã‚‡",fwa:"ãµã",fwi:"ãµãƒ",fwu:"ãµã…",fwe:"ãµã‡",fwo:"ãµã‰",fa:"ãµã",fi:"ãµãƒ",fe:"ãµã‡",fo:"ãµã‰",fyi:"ãµãƒ",fye:"ãµã‡",ba:"ã°",bi:"ã³",bu:"ã¶",be:"ã¹",bo:"ã¼",bya:"ã³ã‚ƒ",byi:"ã³ãƒ",byu:"ã³ã‚…",bye:"ã³ã‡",byo:"ã³ã‚‡",pa:"ã±",pi:"ã´",pu:"ã·",pe:"ãº",po:"ã½",pya:"ã´ã‚ƒ",pyi:"ã´ãƒ",pyu:"ã´ã‚…",pye:"ã´ã‡",pyo:"ã´ã‚‡",ma:"ã¾",mi:"ã¿",mu:"ã‚€",me:"ã‚",mo:"ã‚‚",mya:"ã¿ã‚ƒ",myi:"ã¿ãƒ",myu:"ã¿ã‚…",mye:"ã¿ã‡",myo:"ã¿ã‚‡",ya:"ã‚„",yu:"ã‚†",yo:"ã‚ˆ",xya:"ã‚ƒ",xyu:"ã‚…",xyo:"ã‚‡",ra:"ã‚‰",ri:"ã‚Š",ru:"ã‚‹",re:"ã‚Œ",ro:"ã‚",rya:"ã‚Šã‚ƒ",ryi:"ã‚Šãƒ",ryu:"ã‚Šã‚…",rye:"ã‚Šã‡",ryo:"ã‚Šã‚‡",la:"ã‚‰",li:"ã‚Š",lu:"ã‚‹",le:"ã‚Œ",lo:"ã‚",lya:"ã‚Šã‚ƒ",lyi:"ã‚Šãƒ",lyu:"ã‚Šã‚…",lye:"ã‚Šã‡",lyo:"ã‚Šã‚‡",wa:"ã‚",wo:"ã‚’",lwe:"ã‚Ž",xwa:"ã‚Ž",n:"ã‚“",nn:"ã‚“","n ":"ã‚“",xn:"ã‚“",ltsu:"ã£"},wanakana.FOUR_CHARACTER_EDGE_CASES=["lts","chy","shy"],wanakana.J_to_R={ã‚:"a",ã„:"i",ã†:"u",ãˆ:"e",ãŠ:"o",ã‚”ã:"va",ã‚”ãƒ:"vi",ã‚”:"vu",ã‚”ã‡:"ve",ã‚”ã‰:"vo",ã‹:"ka",ã:"ki",ãã‚ƒ:"kya",ããƒ:"kyi",ãã‚…:"kyu",ã:"ku",ã‘:"ke",ã“:"ko",ãŒ:"ga",ãŽ:"gi",ã:"gu",ã’:"ge",ã”:"go",ãŽã‚ƒ:"gya",ãŽãƒ:"gyi",ãŽã‚…:"gyu",ãŽã‡:"gye",ãŽã‚‡:"gyo",ã•:"sa",ã™:"su",ã›:"se",ã:"so",ã–:"za",ãš:"zu",ãœ:"ze",ãž:"zo",ã—:"shi",ã—ã‚ƒ:"sha",ã—ã‚…:"shu",ã—ã‚‡:"sho",ã˜:"ji",ã˜ã‚ƒ:"ja",ã˜ã‚…:"ju",ã˜ã‚‡:"jo",ãŸ:"ta",ã¡:"chi",ã¡ã‚ƒ:"cha",ã¡ã‚…:"chu",ã¡ã‚‡:"cho",ã¤:"tsu",ã¦:"te",ã¨:"to",ã :"da",ã¢:"di",ã¥:"du",ã§:"de",ã©:"do",ãª:"na",ã«:"ni",ã«ã‚ƒ:"nya",ã«ã‚…:"nyu",ã«ã‚‡:"nyo",ã¬:"nu",ã­:"ne",ã®:"no",ã¯:"ha",ã²:"hi",ãµ:"fu",ã¸:"he",ã»:"ho",ã²ã‚ƒ:"hya",ã²ã‚…:"hyu",ã²ã‚‡:"hyo",ãµã:"fa",ãµãƒ:"fi",ãµã‡:"fe",ãµã‰:"fo",ã°:"ba",ã³:"bi",ã¶:"bu",ã¹:"be",ã¼:"bo",ã³ã‚ƒ:"bya",ã³ã‚…:"byu",ã³ã‚‡:"byo",ã±:"pa",ã´:"pi",ã·:"pu",ãº:"pe",ã½:"po",ã´ã‚ƒ:"pya",ã´ã‚…:"pyu",ã´ã‚‡:"pyo",ã¾:"ma",ã¿:"mi",ã‚€:"mu",ã‚:"me",ã‚‚:"mo",ã¿ã‚ƒ:"mya",ã¿ã‚…:"myu",ã¿ã‚‡:"myo",ã‚„:"ya",ã‚†:"yu",ã‚ˆ:"yo",ã‚‰:"ra",ã‚Š:"ri",ã‚‹:"ru",ã‚Œ:"re",ã‚:"ro",ã‚Šã‚ƒ:"rya",ã‚Šã‚…:"ryu",ã‚Šã‚‡:"ryo",ã‚:"wa",ã‚’:"wo",ã‚“:"n",ã‚:"wi",ã‚‘:"we",ãã‡:"kye",ãã‚‡:"kyo",ã˜ãƒ:"jyi",ã˜ã‡:"jye",ã¡ãƒ:"cyi",ã¡ã‡:"che",ã²ãƒ:"hyi",ã²ã‡:"hye",ã³ãƒ:"byi",ã³ã‡:"bye",ã´ãƒ:"pyi",ã´ã‡:"pye",ã¿ã‡:"mye",ã¿ãƒ:"myi",ã‚Šãƒ:"ryi",ã‚Šã‡:"rye",ã«ãƒ:"nyi",ã«ã‡:"nye",ã—ãƒ:"syi",ã—ã‡:"she",ã„ã‡:"ye",ã†ã:"wha",ã†ã‰:"who",ã†ãƒ:"wi",ã†ã‡:"we",ã‚”ã‚ƒ:"vya",ã‚”ã‚…:"vyu",ã‚”ã‚‡:"vyo",ã™ã:"swa",ã™ãƒ:"swi",ã™ã…:"swu",ã™ã‡:"swe",ã™ã‰:"swo",ãã‚ƒ:"qya",ãã‚…:"qyu",ãã‚‡:"qyo",ãã:"qwa",ããƒ:"qwi",ãã…:"qwu",ãã‡:"qwe",ãã‰:"qwo",ãã:"gwa",ããƒ:"gwi",ãã…:"gwu",ãã‡:"gwe",ãã‰:"gwo",ã¤ã:"tsa",ã¤ãƒ:"tsi",ã¤ã‡:"tse",ã¤ã‰:"tso",ã¦ã‚ƒ:"tha",ã¦ãƒ:"thi",ã¦ã‚…:"thu",ã¦ã‡:"the",ã¦ã‚‡:"tho",ã¨ã:"twa",ã¨ãƒ:"twi",ã¨ã…:"twu",ã¨ã‡:"twe",ã¨ã‰:"two",ã¢ã‚ƒ:"dya",ã¢ãƒ:"dyi",ã¢ã‚…:"dyu",ã¢ã‡:"dye",ã¢ã‚‡:"dyo",ã§ã‚ƒ:"dha",ã§ãƒ:"dhi",ã§ã‚…:"dhu",ã§ã‡:"dhe",ã§ã‚‡:"dho",ã©ã:"dwa",ã©ãƒ:"dwi",ã©ã…:"dwu",ã©ã‡:"dwe",ã©ã‰:"dwo",ãµã…:"fwu",ãµã‚ƒ:"fya",ãµã‚…:"fyu",ãµã‚‡:"fyo",ã:"a",ãƒ:"i",ã‡:"e",ã…:"u",ã‰:"o",ã‚ƒ:"ya",ã‚…:"yu",ã‚‡:"yo",ã£:"",ã‚•:"ka",ã‚–:"ka",ã‚Ž:"wa","ã€€":" ",ã‚“ã‚:"n'a",ã‚“ã„:"n'i",ã‚“ã†:"n'u",ã‚“ãˆ:"n'e",ã‚“ãŠ:"n'o",ã‚“ã‚„:"n'ya",ã‚“ã‚†:"n'yu",ã‚“ã‚ˆ:"n'yo"};